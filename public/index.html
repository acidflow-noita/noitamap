<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
  <head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=GT-WVGRXGLP"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "GT-WVGRXGLP");
    </script>

    <meta charset="utf-8" />
    <title>Noita Map</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="description" content="Ultrafast superzoom map for Noita. Map for the video game Noita." />
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png" />
    <link rel="manifest" href="/assets/favicon/site.webmanifest" />
    <link rel="mask-icon" href="/assets/favicon/safari-pinned-tab.svg" color="#5bbad5" />
    <link rel="shortcut icon" href="/assets/favicon/favicon.ico" />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta name="msapplication-config" content="/assets/favicon/browserconfig.xml" />
    <meta name="theme-color" content="#ffffff" />
    <link rel="stylesheet" href="css/overlay-styles.css" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="icon" href="/assets/favicon/favicon.ico" type="image/x-icon" />
    <link rel="preconnect" href="https://rsms.me/" />
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css" />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/openseadragon/5.0.0/openseadragon.min.js"
      integrity="sha512-mdfzGJn9wUFg72mwblmP0uA6j3uB3uEKOQB1gmCCsnsKQNQRys+mITew+5lPFIo0C4NU1Bi/O+Eaw2GMsjC9IA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
    <script src="https://unpkg.com/openseadragon-annotations@1.0.5/dist/openseadragon-annotations.js"></script>
    <!-- Todo add opacity slider plugin -->
    <script src="https://cdn.jsdelivr.net/npm/openseadragon-opacity-slider/dist/openseadragon-opacity-slider.min.js"></script>

    <!-- Facebook Meta Tags -->
    <meta property="og:url" content="https://map.runfast.stream/" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Noita Map" />
    <meta property="og:description" content="Blazingly-fast superzoom map for Noita. Map for the video game Noita." />
    <meta property="og:image" content="https://map.runfast.stream/assets/noitamap-opengraph.png" />
    <meta property="og:image:secure_url" content="https://map.runfast.stream/assets/noitamap-opengraph.png" />
    <meta property="og:image:type" content="image/png" />

    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta property="twitter:domain" content="map.runfast.stream" />
    <meta property="twitter:url" content="https://map.runfast.stream/" />
    <meta name="twitter:title" content="Noita Map" />
    <meta name="twitter:description" content="Blazingly-fast superzoom map for Noita. Map for the video game Noita." />
    <meta name="twitter:image" content="https://map.runfast.stream/assets/noitamap-opengraph.png" />

  </head>

  <body>
    <div id="liveAlertPlaceholder" class="toast align-items-center" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="d-flex">
        <div class="toast-body">Copied current map coordinates to your clipboard!</div>
        <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
    </div>
    <!-- TODO: add drawing -->
    <!-- <div class="form-check form-switch"> -->
    <!--   <input class="form-check-input" type="checkbox" role="switch" id="drawingToggleSwitch"> -->
    <!--   <label class="form-check-label" for="drawingToggleSwitch"><i class="bi bi-brush"></i> Draw</label> -->
    <!-- </div> -->
    <!-- <a id="eraseAnnotationDrawingsButton" tabindex="0" class="btn btn-outline-info text-nowrap"
        data-bs-trigger="focus" role="button" onclick="eraseDrawings()"><i class="bi bi-eraser"></i></a> -->
    <nav class="navbar mapNavbar nav bg-body-tertiary nav-wrapper navbar-dark bg-dark fixed-top navbar-expand-sm">
      <div class="container-fluid d-flex align-items-center">
        <!-- row row-cols-2 -->
        <!-- <div class=""> -->
          <a class="navbar-brand" href="#" onclick="resetZoom();">
            <img src="./assets/NoitamapLogo.svg" alt="Noitamap Logo" class="d-inline-block " />
            <span id="currentMapName">Noita map</span>
          </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleMapMenu" aria-controls="collapsibleMapMenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="collapsibleMapMenu">
            <div class="dropdown d-grid gap-2 d-md-block">
              <button class="btn btn-sm btn-outline-light dropdown-toggle" type="button" data-bs-toggle="dropdown" data-bs-auto-close="true" aria-expanded="false">Available Maps</button>
              <ul class="dropdown-menu" id="navLinksList"></ul>
            </div>

            <a
            id="shareButton"
            tabindex="0"
            class="btn btn-sm btn-outline-light text-nowrap d-grid gap-2 d-md-block"
            data-bs-trigger="focus"
            data-bs-container="body"
            data-bs-toggle="popover"
            data-bs-placement="bottom"
            data-bs-content="Copied to clipboard!"
            role="button"
            onclick="getShareUrl();"
            >
            <i class="bi bi-share"></i> <span class="">Share Location</span>
          </a>

            <div id="overlayVisibilityToggleWrapper" class="form-check form-switch d-grid gap-2 d-md-block text-nowrap" >
              <input class="form-check-input" type="checkbox" role="switch" id="overlayVisibilityToggle" />
              <label class="form-check-label" for="overlayVisibilityToggle"><i class="bi bi-layers"></i> Show overlays</label>
            </div>

            <div class="btn-group text-nowrap" role="group">
              <input id="structuresToggler" type="checkbox" class="btn-check btn-sm overlayToggler" autocomplete="off" >
              <label class="btn btn-outline-light" for="structuresToggler"><i class="icon-structures" ></i> Structures</label>

              <input id="bossesToggler" type="checkbox" class="btn-check overlayToggler" autocomplete="off">
              <label class="btn btn-outline-light" for="bossesToggler"><i class="icon-bosses" ></i> Bosses</label>
              
              <input id="itemsToggler" type="checkbox" class="btn-check overlayToggler" autocomplete="off">
              <label class="btn btn-outline-light" for="itemsToggler"><i class="icon-items" ></i> Items</label>

              <input id="obsToggler" type="checkbox" class="btn-check overlayToggler" autocomplete="off">
              <label class="btn btn-outline-light" for="obsToggler"><i class="icon-orbs" ></i> Orbs</label>
            </div>


          <a href="https://github.com/acidflow-noita/noitamap" class="btn btn-sm btn-outline-light text-nowrap d-grid gap-2 d-md-block" target="_blank" role="button">
            <i class="bi bi-github"> </i><span class="">Source Code</span>
          </a>
          <a href="https://discord.gg/R2PHyHMYgx" class="btn btn-sm btn-outline-light text-nowrap d-grid gap-2 d-md-block" target="_blank" role="button">
            <i class="bi bi-discord"></i> <span class="">Join Discord</span>
          </a>
          <a id="goToMainWebsiteButton" href="https://runfast.stream" target="_blank" class="btn btn-sm btn-outline-warning ">
            <i class="icon-runfast"></i>
          </a>
        </div>
    </nav>
    <div id="osContainer"></div>
    <i class="bi bi-arrow-repeat loadingIndicator spinningIcon text-info"></i>
    <div id="coordinates-hover"></div>
    <div id="coordinate" class="coordinate">
      <div class="coordinate-content"></div>
    </div>
    <div id="opacitySliderWrapper"></div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script src="js/script.js"></script>
    <!-- Cloudflare Web Analytics -->
    <script defer src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon='{"token": "d6a1d0d280c34cbf8fa978fffc9d0fa2"}'></script>
    <!-- End Cloudflare Web Analytics -->
  </body>
</html>
