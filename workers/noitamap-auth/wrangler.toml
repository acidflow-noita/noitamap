name = "noitamap-auth"
main = "src/index.ts"
compatibility_date = "2026-01-20"

[observability]
enabled = true
head_sampling_rate = 1

# Production environment (default)
[vars]
WORKER_URL = "https://noitamap-auth.wuote.workers.dev"
ALLOWED_ORIGINS = "https://noitamap.com,https://dev.noitamap.com"

[[d1_databases]]
binding = "AUTH_DB"
database_name = "noitamap-auth"
database_id = "YOUR_DATABASE_ID_HERE"

# Development environment
[env.dev]
name = "noitamap-auth-dev"
[env.dev.vars]
WORKER_URL = "https://noitamap-auth-dev.wuote.workers.dev"
ALLOWED_ORIGINS = "https://dev.noitamap.com,http://localhost:5173,http://localhost:3000"

[[env.dev.d1_databases]]
binding = "AUTH_DB"
database_name = "noitamap-auth-dev"
database_id = "YOUR_DEV_DATABASE_ID_HERE"

# Local development environment
[env.local]
name = "noitamap-auth-local"
[env.local.vars]
WORKER_URL = "http://localhost:8787"
ALLOWED_ORIGINS = "http://localhost:5173,http://localhost:3000"

[[env.local.d1_databases]]
binding = "AUTH_DB"
database_name = "noitamap-auth-local"
database_id = "local"
